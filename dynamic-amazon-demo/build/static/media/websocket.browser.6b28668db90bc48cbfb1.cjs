"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const eventemitter3_1=require("eventemitter3");class WebSocketBrowserImpl extends eventemitter3_1.EventEmitter{socket;constructor(e,t,s){super(),this.socket=new window.WebSocket(e,s),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,s){const o=s||t;try{this.socket.send(e),o()}catch(r){o(r)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,s){this.socket.addEventListener(e,t,s)}}function default_1(e,t){return new WebSocketBrowserImpl(e,t)}exports.default=default_1;